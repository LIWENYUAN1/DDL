# ⚡ 立即执行这3步 - 修复所有问题

## ✅ 第1步：在MySQL中执行SQL（最重要！）

**复制下面的SQL，在MySQL Workbench或命令行中执行：**

```sql
USE motorcycle_service_platform;

-- 插入商家数据（预约功能必需）
INSERT INTO merchant (id, merchant_name, contact_person, contact_phone, address, business_license, status, create_time, update_time)
VALUES (1, '测试维修店', '张师傅', '13800138000', '测试地址123号', 'TEST001', 1, NOW(), NOW())
ON DUPLICATE KEY UPDATE merchant_name=VALUES(merchant_name);

-- 插入服务项目（预约功能必需）
INSERT INTO service_item (id, item_name, description, price, status, create_time, update_time)
VALUES 
(1, '常规保养', '更换机油机滤等', 200.00, 1, NOW(), NOW()),
(2, '刹车维护', '更换刹车片刹车油', 300.00, 1, NOW(), NOW())
ON DUPLICATE KEY UPDATE item_name=VALUES(item_name);

-- 验证数据
SELECT 'merchant表：' as info, COUNT(*) as count FROM merchant;
SELECT 'service_item表：' as info, COUNT(*) as count FROM service_item;
```

**预期结果：应该看到 merchant表和service_item表都有数据**

---

## ✅ 第2步：启动后端

在PowerShell中执行：

```powershell
cd F:\redame\demo

# 停止旧进程
Get-Process -Name "java" -ErrorAction SilentlyContinue | Stop-Process -Force

# 启动后端
.\mvnw.cmd spring-boot:run
```

**等待看到：** `Started DemoApplication in X.XXX seconds`

---

## ✅ 第3步：测试功能

**在新的PowerShell窗口**中执行：

```powershell
cd F:\redame\demo
.\test-register-and-appointment.ps1
```

**预期结果：**
```
[SUCCESS] Register successful!
[SUCCESS] Login successful!
[SUCCESS] Appointment created!
Appointment ID: 1
```

---

## 🎉 完成！

如果看到以上成功信息，说明：
- ✅ 注册功能正常
- ✅ 登录功能正常
- ✅ 预约功能正常

现在可以打开前端测试：`http://localhost:5175`

---

## ❌ 如果第3步失败

### 情况1：无法连接后端

**原因**：后端没启动成功

**解决**：查看第2步的后端窗口，找红色错误信息告诉我

### 情况2：预约失败（系统错误）

**原因**：SQL没执行成功或数据没插入

**检查**：在MySQL中执行
```sql
SELECT * FROM merchant WHERE id = 1;
SELECT * FROM service_item WHERE id = 1;
```

如果返回空，说明SQL没执行成功，请重新执行第1步

### 情况3：其他错误

把错误信息告诉我，我帮您解决！

---

**现在开始第1步！执行SQL是关键！** 🚀




