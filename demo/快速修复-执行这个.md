# âš¡ å¿«é€Ÿä¿®å¤ - æ‰§è¡Œè¿™ä¸ª

## ğŸ”´ é—®é¢˜åŸå› 

æ‚¨çš„merchantè¡¨å­—æ®µå’Œæˆ‘ä¹‹å‰çš„SQLä¸åŒ¹é…ï¼

**å®é™…å­—æ®µæ˜¯**ï¼š`contact_name`ï¼ˆä¸æ˜¯ contact_personï¼‰

## âœ… æ­£ç¡®çš„SQLï¼ˆè¯·å¤åˆ¶æ‰§è¡Œï¼‰

**åœ¨MySQLä¸­æ‰§è¡Œä»¥ä¸‹å®Œæ•´SQL**ï¼š

```sql
USE motorcycle_service_platform;

-- 1. å…ˆåˆ›å»ºå•†å®¶ç”¨æˆ·ï¼ˆmerchantéœ€è¦å…³è”user_idï¼‰
INSERT INTO sys_user (username, password, phone, user_type, status, create_time, update_time)
VALUES ('merchant_test', '$2a$10$N.zmdr9k7uOCQb376NoUnuTJ8iAt6Z2EE4lb8Qrx7hQo3DqsFy2/u', '13900000001', 2, 1, NOW(), NOW())
ON DUPLICATE KEY UPDATE username=VALUES(username);

-- 2. è·å–å•†å®¶ç”¨æˆ·ID
SET @merchant_user_id = (SELECT id FROM sys_user WHERE username = 'merchant_test' LIMIT 1);

-- 3. æ’å…¥å•†å®¶æ•°æ®ï¼ˆä½¿ç”¨æ­£ç¡®çš„å­—æ®µåï¼‰
INSERT INTO merchant (
    id, merchant_name, user_id, contact_name, contact_phone, address, 
    latitude, longitude, location, business_hours, merchant_type, 
    status, create_time, update_time
)
VALUES (
    1, 'æµ‹è¯•æ‘©æ‰˜ç»´ä¿®åº—', @merchant_user_id, 'å¼ å¸ˆå‚…', '13900139000', 
    'åŒ—äº¬å¸‚æœé˜³åŒºå»ºå›½è·¯88å·', 39.904200, 116.407396, 
    ST_GeomFromText('POINT(116.407396 39.904200)'), '09:00-20:00', 1, 
    1, NOW(), NOW()
)
ON DUPLICATE KEY UPDATE merchant_name=VALUES(merchant_name), update_time=NOW();

-- 4. æ’å…¥æœåŠ¡é¡¹ç›®
INSERT INTO service_item (id, item_name, description, price, status, create_time, update_time)
VALUES 
(1, 'å¸¸è§„ä¿å…»', 'æ›´æ¢æœºæ²¹ã€æœºæ»¤ç­‰', 200.00, 1, NOW(), NOW()),
(2, 'åˆ¹è½¦ç»´æŠ¤', 'æ›´æ¢åˆ¹è½¦ç‰‡åˆ¹è½¦æ²¹', 300.00, 1, NOW(), NOW())
ON DUPLICATE KEY UPDATE item_name=VALUES(item_name), update_time=NOW();

-- 5. éªŒè¯æ•°æ®
SELECT 'å•†å®¶æ•°æ®ï¼š' as info, COUNT(*) as count FROM merchant;
SELECT 'æœåŠ¡é¡¹ç›®ï¼š' as info, COUNT(*) as count FROM service_item;
SELECT * FROM merchant WHERE id = 1;
SELECT * FROM service_item WHERE id IN (1,2);
```

## ğŸ“ é¢„æœŸç»“æœ

æ‰§è¡ŒæˆåŠŸååº”è¯¥çœ‹åˆ°ï¼š
- âœ… merchantè¡¨æœ‰1æ¡è®°å½•
- âœ… service_itemè¡¨æœ‰2æ¡è®°å½•
- âœ… æ˜¾ç¤ºè¯¦ç»†çš„å•†å®¶å’ŒæœåŠ¡é¡¹ç›®ä¿¡æ¯

## ğŸš€ æ‰§è¡ŒSQLåçš„ä¸‹ä¸€æ­¥

### 1. å¯åŠ¨åç«¯

```powershell
cd F:\redame\demo
Get-Process -Name "java" -ErrorAction SilentlyContinue | Stop-Process -Force
.\mvnw.cmd spring-boot:run
```

**ç­‰å¾…çœ‹åˆ°**ï¼š`Started DemoApplication`

### 2. æµ‹è¯•åŠŸèƒ½ï¼ˆæ–°çª—å£ï¼‰

```powershell
cd F:\redame\demo
.\test-register-and-appointment.ps1
```

**é¢„æœŸè¾“å‡º**ï¼š
```
[SUCCESS] Register successful!
[SUCCESS] Login successful!
[SUCCESS] Appointment created!
Appointment ID: 1
```

## â“ å¦‚æœSQLæ‰§è¡Œä»ç„¶å¤±è´¥

è¯·æˆªå›¾å®Œæ•´çš„é”™è¯¯ä¿¡æ¯å‘Šè¯‰æˆ‘ï¼Œå¯èƒ½éœ€è¦æ£€æŸ¥ï¼š
1. merchantè¡¨çš„å®Œæ•´ç»“æ„
2. sys_userè¡¨æ˜¯å¦å­˜åœ¨
3. å¤–é”®çº¦æŸæ˜¯å¦æ­£å¸¸

## ğŸ“‚ å®Œæ•´SQLæ–‡ä»¶

ä¹Ÿå¯ä»¥ç›´æ¥åœ¨MySQLä¸­æ‰“å¼€æ‰§è¡Œè¿™ä¸ªæ–‡ä»¶ï¼š
```
F:\redame\demo\æ­£ç¡®çš„æµ‹è¯•æ•°æ®.sql
```

---

**ç°åœ¨å°±æ‰§è¡Œä¸Šé¢çš„SQLï¼** ğŸ¯




