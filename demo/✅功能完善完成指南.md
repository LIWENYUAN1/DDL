# âœ… æ‘©æ‰˜è½¦æœåŠ¡å¹³å°åŠŸèƒ½å®Œå–„å®ŒæˆæŒ‡å—

## ğŸ‰ å·²å®Œæˆçš„åç«¯åŠŸèƒ½

### 1. âœ… å•†å®¶ç®¡ç†æ¨¡å—
**æ–‡ä»¶è·¯å¾„**ï¼š`demo/src/main/java/com/example/demo/`

#### MerchantService.java & MerchantServiceImpl.java
- âœ… `getMerchantByUserId()` - æ ¹æ®ç”¨æˆ·IDè·å–å•†å®¶ä¿¡æ¯
- âœ… `updateMerchantInfo()` - æ›´æ–°å•†å®¶ä¿¡æ¯
- âœ… `getMerchantAppointments()` - è·å–å•†å®¶é¢„çº¦åˆ—è¡¨
- âœ… `confirmAppointment()` - ç¡®è®¤é¢„çº¦
- âœ… `completeAppointment()` - å®Œæˆé¢„çº¦
- âœ… `rejectAppointment()` - æ‹’ç»é¢„çº¦
- âœ… `getMerchantStatistics()` - è·å–å•†å®¶è¥ä¸šç»Ÿè®¡
- âœ… `getNearbyMerchants()` - æŸ¥è¯¢é™„è¿‘å•†å®¶

#### MerchantController.java
- âœ… `GET /api/merchant/info` - è·å–å•†å®¶ä¿¡æ¯
- âœ… `PUT /api/merchant/info` - æ›´æ–°å•†å®¶ä¿¡æ¯
- âœ… `GET /api/merchant/appointments` - è·å–é¢„çº¦åˆ—è¡¨
- âœ… `POST /api/merchant/appointments/{id}/confirm` - ç¡®è®¤é¢„çº¦
- âœ… `POST /api/merchant/appointments/{id}/complete` - å®Œæˆé¢„çº¦
- âœ… `POST /api/merchant/appointments/{id}/reject` - æ‹’ç»é¢„çº¦
- âœ… `GET /api/merchant/statistics` - è·å–è¥ä¸šç»Ÿè®¡

### 2. âœ… ç®¡ç†å‘˜ç®¡ç†æ¨¡å—
**æ–‡ä»¶è·¯å¾„**ï¼š`demo/src/main/java/com/example/demo/controller/AdminController.java`

- âœ… `GET /api/admin/users` - è·å–ç”¨æˆ·åˆ—è¡¨
- âœ… `PUT /api/admin/users/{userId}/status` - ä¿®æ”¹ç”¨æˆ·çŠ¶æ€
- âœ… `GET /api/admin/merchants` - è·å–å•†å®¶åˆ—è¡¨
- âœ… `POST /api/admin/merchants/{id}/approve` - å®¡æ ¸é€šè¿‡å•†å®¶
- âœ… `POST /api/admin/merchants/{id}/reject` - æ‹’ç»å•†å®¶ç”³è¯·
- âœ… `GET /api/admin/appointments` - è·å–æ‰€æœ‰é¢„çº¦
- âœ… `GET /api/admin/statistics` - è·å–å¹³å°æ•°æ®ç»Ÿè®¡

### 3. âœ… å…¬å…±APIæ¨¡å—
**æ–‡ä»¶è·¯å¾„**ï¼š`demo/src/main/java/com/example/demo/controller/PublicController.java`

- âœ… `GET /api/public/merchants/nearby` - æŸ¥è¯¢é™„è¿‘å•†å®¶
- âœ… `GET /api/public/merchants/{id}` - è·å–å•†å®¶è¯¦æƒ…
- âœ… `GET /api/public/merchants` - è·å–æ‰€æœ‰å·²å®¡æ ¸å•†å®¶

### 4. âœ… é¢„çº¦ç®¡ç†æ¨¡å—ï¼ˆå·²å­˜åœ¨ï¼Œå·²å®Œå–„ï¼‰
**æ–‡ä»¶è·¯å¾„**ï¼š`demo/src/main/java/com/example/demo/`

- âœ… `POST /api/appointment/create` - åˆ›å»ºé¢„çº¦
- âœ… `GET /api/appointment/user/list` - ç”¨æˆ·é¢„çº¦åˆ—è¡¨
- âœ… `GET /api/appointment/merchant/list` - å•†å®¶é¢„çº¦åˆ—è¡¨
- âœ… `POST /api/appointment/confirm/{id}` - ç¡®è®¤é¢„çº¦
- âœ… `POST /api/appointment/complete/{id}` - å®Œæˆé¢„çº¦
- âœ… `POST /api/appointment/cancel/{id}` - å–æ¶ˆé¢„çº¦
- âœ… `GET /api/appointment/detail/{id}` - é¢„çº¦è¯¦æƒ…

### 5. âœ… æƒé™é…ç½®æ›´æ–°
**æ–‡ä»¶è·¯å¾„**ï¼š`demo/src/main/java/com/example/demo/config/SecurityConfig.java`

```java
// å…¬å…±APIï¼ˆæ— éœ€ç™»å½•ï¼‰
.requestMatchers("/api/public/**").permitAll()

// ç®¡ç†å‘˜ç«¯æ¥å£
.requestMatchers("/api/admin/**").hasRole("ADMIN")

// å•†å®¶ç«¯æ¥å£
.requestMatchers("/api/merchant/**").hasAnyRole("MERCHANT", "ADMIN")

// é¢„çº¦æ¥å£ï¼ˆç”¨æˆ·å’Œå•†å®¶éƒ½å¯ä»¥è®¿é—®ï¼‰
.requestMatchers("/api/appointment/**").hasAnyRole("USER", "MERCHANT", "ADMIN")

// ç”¨æˆ·ç«¯æ¥å£
.requestMatchers("/api/user/**").hasAnyRole("USER", "ADMIN")
```

---

## ğŸ¨ å‰ç«¯é¡µé¢å®Œå–„æŒ‡å—

### å‰ç«¯APIè°ƒç”¨ç¤ºä¾‹

#### 1. åˆ›å»ºé¢„çº¦ï¼ˆç”¨æˆ·ç«¯ï¼‰
```javascript
// vue-project/src/api/appointment.ts (éœ€æ–°å»º)
import axios from '@/utils/axios'

export const createAppointment = (data) => {
  return axios.post('/api/appointment/create', {
    merchantId: data.merchantId,
    motorcycleId: data.motorcycleId,
    appointmentTime: data.appointmentTime,
    appointmentType: data.appointmentType,
    serviceType: data.serviceType,
    serviceAddress: data.serviceAddress,
    remark: data.remark,
    serviceItems: data.serviceItems
  })
}

export const getUserAppointments = (params) => {
  return axios.get('/api/appointment/user/list', { params })
}

export const cancelAppointment = (id) => {
  return axios.post(`/api/appointment/cancel/${id}`)
}
```

#### 2. è·å–é™„è¿‘å•†å®¶ï¼ˆç”¨æˆ·ç«¯ï¼‰
```javascript
// vue-project/src/api/merchant.ts (éœ€æ–°å»º)
import axios from '@/utils/axios'

export const getNearbyMerchants = (params) => {
  return axios.get('/api/public/merchants/nearby', { params })
}

export const getMerchantDetail = (id) => {
  return axios.get(`/api/public/merchants/${id}`)
}
```

#### 3. å•†å®¶ç®¡ç†é¢„çº¦ï¼ˆå•†å®¶ç«¯ï¼‰
```javascript
// vue-project/src/api/merchant.ts
export const getMerchantAppointments = (params) => {
  return axios.get('/api/merchant/appointments', { params })
}

export const confirmAppointment = (id) => {
  return axios.post(`/api/merchant/appointments/${id}/confirm`)
}

export const completeAppointment = (id) => {
  return axios.post(`/api/merchant/appointments/${id}/complete`)
}

export const rejectAppointment = (id, reason) => {
  return axios.post(`/api/merchant/appointments/${id}/reject`, null, {
    params: { reason }
  })
}

export const getMerchantStatistics = () => {
  return axios.get('/api/merchant/statistics')
}
```

#### 4. ç®¡ç†å‘˜ç®¡ç†ï¼ˆç®¡ç†ç«¯ï¼‰
```javascript
// vue-project/src/api/admin.ts (éœ€æ–°å»º)
import axios from '@/utils/axios'

export const getUsers = (params) => {
  return axios.get('/api/admin/users', { params })
}

export const updateUserStatus = (userId, status) => {
  return axios.put(`/api/admin/users/${userId}/status`, null, {
    params: { status }
  })
}

export const getMerchants = (params) => {
  return axios.get('/api/admin/merchants', { params })
}

export const approveMerchant = (merchantId) => {
  return axios.post(`/api/admin/merchants/${merchantId}/approve`)
}

export const rejectMerchant = (merchantId, reason) => {
  return axios.post(`/api/admin/merchants/${merchantId}/reject`, null, {
    params: { reason }
  })
}

export const getAllAppointments = (params) => {
  return axios.get('/api/admin/appointments', { params })
}

export const getStatistics = () => {
  return axios.get('/api/admin/statistics')
}
```

---

## ğŸ“„ å…³é”®å‰ç«¯é¡µé¢å®ç°ç¤ºä¾‹

### 1. ç”¨æˆ·é¢„çº¦åˆ—è¡¨é¡µé¢
**æ–‡ä»¶è·¯å¾„**ï¼š`vue-project/src/views/user/UserAppointmentsView.vue`

```vue
<template>
  <div class="appointments-page">
    <el-card>
      <template #header>
        <div class="card-header">
          <span>æˆ‘çš„é¢„çº¦</span>
          <el-button type="primary" @click="showCreateDialog = true">
            åˆ›å»ºæ–°é¢„çº¦
          </el-button>
        </div>
      </template>

      <!-- çŠ¶æ€ç­›é€‰æ ‡ç­¾ -->
      <el-tabs v-model="activeStatus" @tab-change="handleStatusChange">
        <el-tab-pane label="å…¨éƒ¨" name="all" />
        <el-tab-pane label="å¾…ç¡®è®¤" name="0" />
        <el-tab-pane label="å·²ç¡®è®¤" name="1" />
        <el-tab-pane label="å·²å®Œæˆ" name="2" />
        <el-tab-pane label="å·²å–æ¶ˆ" name="3" />
      </el-tabs>

      <!-- é¢„çº¦åˆ—è¡¨ -->
      <el-table :data="appointments" style="width: 100%">
        <el-table-column prop="orderNo" label="é¢„çº¦å•å·" width="180" />
        <el-table-column prop="appointmentTime" label="é¢„çº¦æ—¶é—´" width="180" />
        <el-table-column label="å•†å®¶åç§°" width="200">
          <template #default="{ row }">
            {{ row.merchantName || 'åŠ è½½ä¸­...' }}
          </template>
        </el-table-column>
        <el-table-column label="æœåŠ¡ç±»å‹" width="120">
          <template #default="{ row }">
            <el-tag :type="getServiceTypeTag(row.serviceType)">
              {{ getServiceTypeName(row.serviceType) }}
            </el-tag>
          </template>
        </el-table-column>
        <el-table-column label="çŠ¶æ€" width="100">
          <template #default="{ row }">
            <el-tag :type="getStatusTag(row.status)">
              {{ getStatusName(row.status) }}
            </el-tag>
          </template>
        </el-table-column>
        <el-table-column label="æ“ä½œ" fixed="right" width="200">
          <template #default="{ row }">
            <el-button size="small" @click="viewDetail(row)">æŸ¥çœ‹è¯¦æƒ…</el-button>
            <el-button 
              v-if="row.status === 0 || row.status === 1" 
              type="danger" 
              size="small" 
              @click="handleCancel(row.id)"
            >
              å–æ¶ˆ
            </el-button>
          </template>
        </el-table-column>
      </el-table>

      <!-- åˆ†é¡µ -->
      <el-pagination
        v-model:current-page="currentPage"
        v-model:page-size="pageSize"
        :total="total"
        layout="total, prev, pager, next"
        @current-change="loadAppointments"
      />
    </el-card>

    <!-- åˆ›å»ºé¢„çº¦å¯¹è¯æ¡† -->
    <create-appointment-dialog 
      v-model:visible="showCreateDialog" 
      @success="loadAppointments"
    />
  </div>
</template>

<script setup lang="ts">
import { ref, onMounted } from 'vue'
import { getUserAppointments, cancelAppointment } from '@/api/appointment'
import { ElMessage, ElMessageBox } from 'element-plus'

const appointments = ref([])
const activeStatus = ref('all')
const currentPage = ref(1)
const pageSize = ref(10)
const total = ref(0)
const showCreateDialog = ref(false)

const loadAppointments = async () => {
  try {
    const params = {
      pageNum: currentPage.value,
      pageSize: pageSize.value
    }
    const res = await getUserAppointments(params)
    appointments.value = res.data.records
    total.value = res.data.total
  } catch (error) {
    ElMessage.error('åŠ è½½é¢„çº¦åˆ—è¡¨å¤±è´¥')
  }
}

const handleCancel = async (id: number) => {
  try {
    await ElMessageBox.confirm('ç¡®å®šè¦å–æ¶ˆæ­¤é¢„çº¦å—ï¼Ÿ', 'æç¤º', {
      confirmButtonText: 'ç¡®å®š',
      cancelButtonText: 'å–æ¶ˆ',
      type: 'warning'
    })
    await cancelAppointment(id)
    ElMessage.success('å–æ¶ˆæˆåŠŸ')
    loadAppointments()
  } catch (error) {
    if (error !== 'cancel') {
      ElMessage.error('å–æ¶ˆå¤±è´¥')
    }
  }
}

const getStatusName = (status: number) => {
  const map = { 0: 'å¾…ç¡®è®¤', 1: 'å·²ç¡®è®¤', 2: 'å·²å®Œæˆ', 3: 'å·²å–æ¶ˆ' }
  return map[status] || 'æœªçŸ¥'
}

const getStatusTag = (status: number) => {
  const map = { 0: 'warning', 1: 'success', 2: 'info', 3: 'danger' }
  return map[status] || ''
}

onMounted(() => {
  loadAppointments()
})
</script>
```

### 2. å•†å®¶é¢„çº¦ç®¡ç†é¡µé¢
**æ–‡ä»¶è·¯å¾„**ï¼š`vue-project/src/views/shop/ShopAppointmentsView.vue`

```vue
<template>
  <div class="shop-appointments">
    <el-card>
      <template #header>
        <div class="card-header">
          <span>é¢„çº¦ç®¡ç†</span>
          <el-button @click="loadAppointments">åˆ·æ–°</el-button>
        </div>
      </template>

      <!-- çŠ¶æ€ç­›é€‰ -->
      <el-tabs v-model="activeStatus" @tab-change="handleStatusChange">
        <el-tab-pane label="å¾…ç¡®è®¤" name="0" />
        <el-tab-pane label="å·²ç¡®è®¤" name="1" />
        <el-tab-pane label="å·²å®Œæˆ" name="2" />
        <el-tab-pane label="å…¨éƒ¨" name="" />
      </el-tabs>

      <!-- é¢„çº¦åˆ—è¡¨ -->
      <el-table :data="appointments" style="width: 100%">
        <el-table-column prop="orderNo" label="é¢„çº¦å•å·" width="180" />
        <el-table-column prop="appointmentTime" label="é¢„çº¦æ—¶é—´" width="180" />
        <el-table-column label="ç”¨æˆ·ä¿¡æ¯" width="150">
          <template #default="{ row }">
            {{ row.userName || 'ç”¨æˆ·' }}
          </template>
        </el-table-column>
        <el-table-column label="çŠ¶æ€" width="100">
          <template #default="{ row }">
            <el-tag :type="getStatusTag(row.status)">
              {{ getStatusName(row.status) }}
            </el-tag>
          </template>
        </el-table-column>
        <el-table-column prop="remark" label="å¤‡æ³¨" />
        <el-table-column label="æ“ä½œ" fixed="right" width="250">
          <template #default="{ row }">
            <el-button 
              v-if="row.status === 0" 
              type="success" 
              size="small" 
              @click="handleConfirm(row.id)"
            >
              ç¡®è®¤
            </el-button>
            <el-button 
              v-if="row.status === 0" 
              type="danger" 
              size="small" 
              @click="handleReject(row.id)"
            >
              æ‹’ç»
            </el-button>
            <el-button 
              v-if="row.status === 1" 
              type="primary" 
              size="small" 
              @click="handleComplete(row.id)"
            >
              å®Œæˆ
            </el-button>
            <el-button size="small" @click="viewDetail(row)">è¯¦æƒ…</el-button>
          </template>
        </el-table-column>
      </el-table>
    </el-card>
  </div>
</template>

<script setup lang="ts">
import { ref, onMounted } from 'vue'
import { 
  getMerchantAppointments, 
  confirmAppointment, 
  completeAppointment, 
  rejectAppointment 
} from '@/api/merchant'
import { ElMessage, ElMessageBox } from 'element-plus'

const appointments = ref([])
const activeStatus = ref('0')

const loadAppointments = async () => {
  try {
    const params = {
      pageNum: 1,
      pageSize: 100,
      status: activeStatus.value !== '' ? Number(activeStatus.value) : undefined
    }
    const res = await getMerchantAppointments(params)
    appointments.value = res.data.records
  } catch (error) {
    ElMessage.error('åŠ è½½é¢„çº¦åˆ—è¡¨å¤±è´¥')
  }
}

const handleConfirm = async (id: number) => {
  try {
    await ElMessageBox.confirm('ç¡®å®šè¦ç¡®è®¤æ­¤é¢„çº¦å—ï¼Ÿ', 'æç¤º', {
      confirmButtonText: 'ç¡®å®š',
      cancelButtonText: 'å–æ¶ˆ',
      type: 'success'
    })
    await confirmAppointment(id)
    ElMessage.success('ç¡®è®¤æˆåŠŸ')
    loadAppointments()
  } catch (error) {
    if (error !== 'cancel') {
      ElMessage.error('ç¡®è®¤å¤±è´¥')
    }
  }
}

const handleComplete = async (id: number) => {
  try {
    await ElMessageBox.confirm('ç¡®å®šæ ‡è®°ä¸ºå·²å®Œæˆå—ï¼Ÿ', 'æç¤º', {
      confirmButtonText: 'ç¡®å®š',
      cancelButtonText: 'å–æ¶ˆ',
      type: 'success'
    })
    await completeAppointment(id)
    ElMessage.success('æ“ä½œæˆåŠŸ')
    loadAppointments()
  } catch (error) {
    if (error !== 'cancel') {
      ElMessage.error('æ“ä½œå¤±è´¥')
    }
  }
}

const handleReject = async (id: number) => {
  try {
    const { value } = await ElMessageBox.prompt('è¯·è¾“å…¥æ‹’ç»åŸå› ', 'æ‹’ç»é¢„çº¦', {
      confirmButtonText: 'ç¡®å®š',
      cancelButtonText: 'å–æ¶ˆ',
      inputPattern: /.+/,
      inputErrorMessage: 'è¯·è¾“å…¥æ‹’ç»åŸå› '
    })
    await rejectAppointment(id, value)
    ElMessage.success('å·²æ‹’ç»')
    loadAppointments()
  } catch (error) {
    if (error !== 'cancel') {
      ElMessage.error('æ“ä½œå¤±è´¥')
    }
  }
}

const getStatusName = (status: number) => {
  const map = { 0: 'å¾…ç¡®è®¤', 1: 'å·²ç¡®è®¤', 2: 'å·²å®Œæˆ', 3: 'å·²å–æ¶ˆ' }
  return map[status] || 'æœªçŸ¥'
}

const getStatusTag = (status: number) => {
  const map = { 0: 'warning', 1: 'success', 2: 'info', 3: 'danger' }
  return map[status] || ''
}

const handleStatusChange = () => {
  loadAppointments()
}

onMounted(() => {
  loadAppointments()
})
</script>
```

---

## ğŸ¯ å®Œæ•´ä¸šåŠ¡æµç¨‹ç¤ºä¾‹

### æµç¨‹1ï¼šç”¨æˆ·åˆ›å»ºé¢„çº¦ â†’ å•†å®¶ç¡®è®¤ â†’ å®ŒæˆæœåŠ¡

#### 1. ç”¨æˆ·ç«¯æ“ä½œ
```
1. ç”¨æˆ·ç™»å½•ï¼ˆç”¨æˆ·åï¼štestuser456ï¼Œå¯†ç ï¼šTest123456ï¼‰
2. è®¿é—®"é™„è¿‘å•†å®¶"
3. é€‰æ‹©å•†å®¶ï¼Œç‚¹å‡»"ç«‹å³é¢„çº¦"
4. å¡«å†™é¢„çº¦ä¿¡æ¯ï¼š
   - é€‰æ‹©è½¦è¾†
   - é€‰æ‹©æœåŠ¡é¡¹ç›®
   - é€‰æ‹©æ—¶é—´
   - å¡«å†™å¤‡æ³¨
5. æäº¤é¢„çº¦
6. åœ¨"æˆ‘çš„é¢„çº¦"ä¸­æŸ¥çœ‹é¢„çº¦çŠ¶æ€ï¼ˆå¾…ç¡®è®¤ï¼‰
```

#### 2. å•†å®¶ç«¯æ“ä½œ
```
1. å•†å®¶ç™»å½•ï¼ˆéœ€è¦å…ˆåˆ›å»ºå•†å®¶è´¦å·ï¼‰
2. è®¿é—®"é¢„çº¦ç®¡ç†"
3. çœ‹åˆ°æ–°çš„é¢„çº¦ï¼ˆçŠ¶æ€ï¼šå¾…ç¡®è®¤ï¼‰
4. ç‚¹å‡»"ç¡®è®¤"æŒ‰é’®
5. é¢„çº¦çŠ¶æ€å˜ä¸º"å·²ç¡®è®¤"
6. æä¾›æœåŠ¡åï¼Œç‚¹å‡»"å®Œæˆ"æŒ‰é’®
7. é¢„çº¦çŠ¶æ€å˜ä¸º"å·²å®Œæˆ"
```

#### 3. ç”¨æˆ·ç«¯æŸ¥çœ‹ç»“æœ
```
1. åˆ·æ–°"æˆ‘çš„é¢„çº¦"
2. çœ‹åˆ°é¢„çº¦çŠ¶æ€æ›´æ–°ä¸º"å·²å®Œæˆ"
3. å¯ä»¥è¿›è¡Œè¯„ä»·ï¼ˆå¯é€‰åŠŸèƒ½ï¼‰
```

### æµç¨‹2ï¼šç®¡ç†å‘˜å®¡æ ¸å•†å®¶

```
1. ç®¡ç†å‘˜ç™»å½•ï¼ˆç”¨æˆ·åï¼šadmin123ï¼Œå¯†ç ï¼šAdmin123456ï¼‰
2. è®¿é—®"å•†å®¶ç®¡ç†"
3. æŸ¥çœ‹å¾…å®¡æ ¸å•†å®¶åˆ—è¡¨ï¼ˆçŠ¶æ€ï¼šå¾…å®¡æ ¸ï¼‰
4. ç‚¹å‡»å•†å®¶æŸ¥çœ‹è¯¦æƒ…
5. ç‚¹å‡»"å®¡æ ¸é€šè¿‡"æˆ–"å®¡æ ¸æ‹’ç»"
6. å•†å®¶çŠ¶æ€æ›´æ–°
7. å•†å®¶æ”¶åˆ°é€šçŸ¥ï¼ˆé‚®ä»¶/ç³»ç»Ÿæ¶ˆæ¯ï¼‰
```

---

## ğŸ“‹ æµ‹è¯•æ¸…å•

### åç«¯APIæµ‹è¯•

#### ç”¨æˆ·ç«¯API
- [ ] POST `/api/appointment/create` - åˆ›å»ºé¢„çº¦
- [ ] GET `/api/appointment/user/list` - è·å–ç”¨æˆ·é¢„çº¦åˆ—è¡¨
- [ ] POST `/api/appointment/cancel/{id}` - å–æ¶ˆé¢„çº¦
- [ ] GET `/api/appointment/detail/{id}` - è·å–é¢„çº¦è¯¦æƒ…

#### å•†å®¶ç«¯API
- [ ] GET `/api/merchant/info` - è·å–å•†å®¶ä¿¡æ¯
- [ ] GET `/api/merchant/appointments` - è·å–å•†å®¶é¢„çº¦åˆ—è¡¨
- [ ] POST `/api/merchant/appointments/{id}/confirm` - ç¡®è®¤é¢„çº¦
- [ ] POST `/api/merchant/appointments/{id}/complete` - å®Œæˆé¢„çº¦
- [ ] POST `/api/merchant/appointments/{id}/reject` - æ‹’ç»é¢„çº¦
- [ ] GET `/api/merchant/statistics` - è·å–è¥ä¸šç»Ÿè®¡

#### ç®¡ç†å‘˜ç«¯API
- [ ] GET `/api/admin/users` - è·å–ç”¨æˆ·åˆ—è¡¨
- [ ] GET `/api/admin/merchants` - è·å–å•†å®¶åˆ—è¡¨
- [ ] POST `/api/admin/merchants/{id}/approve` - å®¡æ ¸é€šè¿‡
- [ ] POST `/api/admin/merchants/{id}/reject` - å®¡æ ¸æ‹’ç»
- [ ] GET `/api/admin/appointments` - è·å–æ‰€æœ‰é¢„çº¦
- [ ] GET `/api/admin/statistics` - è·å–å¹³å°ç»Ÿè®¡

#### å…¬å…±API
- [ ] GET `/api/public/merchants/nearby` - æŸ¥è¯¢é™„è¿‘å•†å®¶
- [ ] GET `/api/public/merchants/{id}` - è·å–å•†å®¶è¯¦æƒ…
- [ ] GET `/api/public/merchants` - è·å–æ‰€æœ‰å•†å®¶

### å‰ç«¯åŠŸèƒ½æµ‹è¯•
- [ ] ç”¨æˆ·æ³¨å†Œç™»å½•
- [ ] ç”¨æˆ·æŸ¥çœ‹é™„è¿‘å•†å®¶
- [ ] ç”¨æˆ·åˆ›å»ºé¢„çº¦
- [ ] ç”¨æˆ·æŸ¥çœ‹é¢„çº¦åˆ—è¡¨
- [ ] ç”¨æˆ·å–æ¶ˆé¢„çº¦
- [ ] å•†å®¶ç™»å½•
- [ ] å•†å®¶æŸ¥çœ‹é¢„çº¦åˆ—è¡¨
- [ ] å•†å®¶ç¡®è®¤é¢„çº¦
- [ ] å•†å®¶å®Œæˆé¢„çº¦
- [ ] å•†å®¶æ‹’ç»é¢„çº¦
- [ ] ç®¡ç†å‘˜ç™»å½•
- [ ] ç®¡ç†å‘˜æŸ¥çœ‹ç”¨æˆ·åˆ—è¡¨
- [ ] ç®¡ç†å‘˜æŸ¥çœ‹å•†å®¶åˆ—è¡¨
- [ ] ç®¡ç†å‘˜å®¡æ ¸å•†å®¶
- [ ] ç®¡ç†å‘˜æŸ¥çœ‹æ‰€æœ‰é¢„çº¦

---

## ğŸš€ ç«‹å³æµ‹è¯•

### 1. å¯åŠ¨åç«¯
```powershell
cd F:\redame\demo
.\mvnw.cmd spring-boot:run
```

### 2. å¯åŠ¨å‰ç«¯
```powershell
cd F:\redame\vue-project
npm run dev
```

### 3. æµ‹è¯•è´¦å·
- **ç”¨æˆ·è´¦å·**: testuser456 / Test123456
- **ç®¡ç†å‘˜è´¦å·**: admin123 / Admin123456
- **å•†å®¶è´¦å·**: éœ€è¦å…ˆä»¥å•†å®¶èº«ä»½æ³¨å†Œ

### 4. æµ‹è¯•APIï¼ˆä½¿ç”¨Postmanæˆ–æµè§ˆå™¨ï¼‰
```bash
# åˆ›å»ºé¢„çº¦ï¼ˆéœ€è¦å…ˆç™»å½•è·å–tokenï¼‰
POST http://localhost:8080/api/appointment/create
Headers: Authorization: Bearer {token}
Body: {
  "merchantId": 1,
  "motorcycleId": 1,
  "appointmentTime": "2025-10-23T10:00:00",
  "appointmentType": 2,
  "serviceType": 1,
  "serviceAddress": "æµ‹è¯•åœ°å€",
  "remark": "æµ‹è¯•é¢„çº¦",
  "serviceItems": []
}

# è·å–é¢„çº¦åˆ—è¡¨
GET http://localhost:8080/api/appointment/user/list?pageNum=1&pageSize=10
Headers: Authorization: Bearer {token}
```

---

## ğŸ“ åç»­ä¼˜åŒ–å»ºè®®

1. **æ•°æ®åº“ä¼˜åŒ–**
   - æ·»åŠ ç´¢å¼•ä¼˜åŒ–æŸ¥è¯¢æ€§èƒ½
   - å®ç°åœ°ç†ä½ç½®æœç´¢ï¼ˆä½¿ç”¨ç©ºé—´ç´¢å¼•ï¼‰

2. **åŠŸèƒ½å¢å¼º**
   - æ·»åŠ æ”¯ä»˜åŠŸèƒ½
   - æ·»åŠ è¯„ä»·å’Œè¯„åˆ†ç³»ç»Ÿ
   - æ·»åŠ æ¶ˆæ¯é€šçŸ¥åŠŸèƒ½
   - æ·»åŠ è½¦è¾†ç®¡ç†åŠŸèƒ½

3. **ç”¨æˆ·ä½“éªŒ**
   - æ·»åŠ å®æ—¶é€šçŸ¥ï¼ˆWebSocketï¼‰
   - ä¼˜åŒ–ç§»åŠ¨ç«¯æ˜¾ç¤º
   - æ·»åŠ å›¾ç‰‡ä¸Šä¼ åŠŸèƒ½

4. **å®‰å…¨æ€§**
   - æ·»åŠ è¯·æ±‚é™æµ
   - æ·»åŠ æ“ä½œæ—¥å¿—
   - åŠ å¼ºæ•°æ®éªŒè¯

---

## âœ… æ€»ç»“

### å·²å®Œæˆ
- âœ… åç«¯æ ¸å¿ƒAPIï¼ˆé¢„çº¦ã€å•†å®¶ã€ç®¡ç†å‘˜ï¼‰
- âœ… æƒé™é…ç½®
- âœ… æ•°æ®åº“äº¤äº’
- âœ… å®Œæ•´çš„ä¸šåŠ¡æµç¨‹

### å¾…å®Œå–„ï¼ˆå‰ç«¯ï¼‰
- â³ ç”¨æˆ·é¢„çº¦é¡µé¢UI
- â³ å•†å®¶ç®¡ç†é¡µé¢UI
- â³ ç®¡ç†å‘˜é¡µé¢UI
- â³ APIè°ƒç”¨é›†æˆ

### æ ¸å¿ƒåŠŸèƒ½å·²å¯ç”¨
**ç°åœ¨ç³»ç»Ÿå·²ç»å…·å¤‡å®Œæ•´çš„åç«¯åŠŸèƒ½ï¼Œå¯ä»¥é€šè¿‡APIè¿›è¡Œæ‰€æœ‰æ“ä½œã€‚å‰ç«¯åªéœ€è¦è°ƒç”¨è¿™äº›APIå¹¶å±•ç¤ºæ•°æ®å³å¯ã€‚**

---

**ğŸ‰ æ­å–œï¼åç«¯æ ¸å¿ƒåŠŸèƒ½å·²å…¨éƒ¨å®Œæˆï¼**





