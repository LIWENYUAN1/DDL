# ⚡ 立即执行 - 前台启动查看日志

## 🔍 当前状态

- ✅ 代码已全部修复
- ✅ 编译成功
- ⚠️ 后端可能未成功启动（端口 8080 未监听）

## 📋 下一步操作

### 步骤 1：停止后台进程（如果有）

```powershell
# 查找 Java 进程
Get-Process java -ErrorAction SilentlyContinue | Stop-Process -Force
```

### 步骤 2：在前台模式启动后端

**重要**：使用前台模式可以看到完整的启动日志和任何错误信息！

```powershell
cd F:\redame\demo
.\mvnw.cmd spring-boot:run
```

### 步骤 3：观察启动日志

启动时，你会看到详细的日志信息。请注意以下几种情况：

#### ✅ 情况 A：启动成功

你会看到类似这样的日志：

```
  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.5)

2025-10-22T12:XX:XX.XXX+08:00  INFO xxxx --- [demo] [main] com.example.demo.DemoApplication : Starting DemoApplication...
...
2025-10-22T12:XX:XX.XXX+08:00  INFO xxxx --- [demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http)
2025-10-22T12:XX:XX.XXX+08:00  INFO xxxx --- [demo] [main] com.example.demo.DemoApplication : Started DemoApplication in X.XXX seconds
```

**这表示成功！** 继续下一步验证。

#### ❌ 情况 B：数据库连接失败

```
Communications link failure
```

**原因**：MySQL 未运行或连接参数错误

**解决**：
```powershell
# 检查 MySQL 是否运行
Get-Service MySQL* 

# 测试连接
mysql -u root -p123456 -e "SHOW DATABASES;"
```

#### ❌ 情况 C：数据库不存在

```
Unknown database 'motorcycle_service_platform'
```

**原因**：数据库还没有创建

**解决**：
```powershell
# 创建数据库
mysql -u root -p123456 -e "CREATE DATABASE motorcycle_service_platform DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;"

# 导入数据
mysql -u root -p123456 motorcycle_service_platform < F:\redame\demo\数据库.txt
```

#### ❌ 情况 D：端口 8080 被占用

```
Port 8080 was already in use
```

**原因**：端口被其他程序占用

**解决**：
```powershell
# 查找占用进程
netstat -ano | findstr ":8080"

# 终止进程（替换 <PID> 为实际进程ID）
taskkill /F /PID <PID>
```

#### ❌ 情况 E：其他错误

如果出现其他错误，请：
1. 复制完整的错误日志
2. 重新运行并提供错误信息

## ✅ 验证启动成功

### 1. 新开一个 PowerShell 窗口

```powershell
# 检查端口
netstat -ano | findstr "LISTENING" | findstr ":8080"
```

应该看到：
```
TCP    0.0.0.0:8080    0.0.0.0:0    LISTENING    [进程ID]
```

### 2. 测试 API

```powershell
curl http://localhost:8080/actuator/health
```

应该返回：
```json
{"status":"UP"}
```

### 3. 测试登录

```powershell
curl http://localhost:8080/api/auth/login `
  -H "Content-Type: application/json" `
  -d '{\"username\":\"admin\",\"password\":\"123456\",\"userType\":3}'
```

应该返回包含 token 的 JSON。

## 🎯 成功后的下一步

### 1. 保持后端运行

不要关闭运行后端的 PowerShell 窗口。

### 2. 启动前端

打开**新的** PowerShell 窗口：

```powershell
cd F:\redame\vue-project
npm run dev
```

### 3. 访问系统

浏览器打开：
```
http://localhost:5173
```

### 4. 测试完整流程

1. 点击"用户登录"或"商家登录"或"管理员登录"
2. 输入用户名和密码
3. 成功登录后会跳转到对应的角色首页
4. 数据会真实保存到 MySQL 数据库

## 📊 快速检查清单

在启动之前，确认：

- [ ] MySQL 服务正在运行
- [ ] 数据库 `motorcycle_service_platform` 已创建
- [ ] 数据库密码在 `application.properties` 中正确配置（当前：`123456`）
- [ ] 端口 3306（MySQL）正在监听
- [ ] 端口 8080 没有被占用

## 🔧 快速检查命令

```powershell
# 一键检查所有
Write-Host "=== MySQL 服务状态 ===" -ForegroundColor Cyan
Get-Service MySQL* | Select-Object Status, Name

Write-Host "`n=== MySQL 端口监听 ===" -ForegroundColor Cyan
netstat -ano | findstr "LISTENING" | findstr ":3306"

Write-Host "`n=== 8080 端口检查 ===" -ForegroundColor Cyan
netstat -ano | findstr ":8080"

Write-Host "`n=== 数据库连接测试 ===" -ForegroundColor Cyan
mysql -u root -p123456 -e "SHOW DATABASES LIKE 'motorcycle%';"
```

## 💬 请告诉我

执行前台启动后，请告诉我：

1. **启动日志的输出**（特别是如果有错误）
2. **是否看到 "Started DemoApplication" 消息**
3. **端口 8080 是否在监听**

---

**当前状态**：✅ 代码修复完成，等待前台启动验证  
**下一步**：在 PowerShell 中执行 `.\mvnw.cmd spring-boot:run`


